<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deux nombres secrets — Joueur vs IA</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<header>
<h1>🎯 Deux nombres secrets — <span style="color:var(--accent)">Joueur</span> vs <span style="color:var(--accent-2)">IA</span></h1>
<span class="badge">Vanilla JS • 3 chiffres</span>
</header>


<!-- ÉCRAN DE DÉMARRAGE -->
<section id="start-screen" class="panel">
<div class="section-title">Écran de démarrage</div>
<div class="stack">
<label for="player-secret" class="hint">Entrez votre nombre secret à 3 chiffres (ex: 042). Les chiffres peuvent se répéter.</label>
<div class="row">
<input id="player-secret" type="text" inputmode="numeric" autocomplete="off" placeholder="Votre secret (000-999)" maxlength="3" />
<button id="btn-start">Lancer la partie</button>
</div>
<div id="start-error" class="hint" style="color:var(--warning)"></div>
</div>
</section>


<!-- ÉCRAN DE JEU -->
<section id="game-screen" class="panel hidden">
<div class="grid-2">
<!-- Colonne joueur -->
<div>
<div class="section-title">Tour du joueur (vous)</div>
<div class="row">
<input id="player-guess" type="text" inputmode="numeric" autocomplete="off" placeholder="Votre proposition (000-999)" maxlength="3" />
<button id="btn-submit-guess">Proposer</button>
<button id="btn-give-up" class="ghost danger" title="Abandonner">Abandonner</button>
</div>
<p class="hint">Après votre proposition, l'IA renvoie automatiquement : <strong>X</strong> bien placé(s), <strong>Y</strong> mal placé(s).</p>


<div class="section-title" style="margin-top:10px">Historique — Vos propositions</div>
<div id="player-history" class="history" aria-live="polite"></div>
</div>


<!-- Colonne IA -->
<div>
<div class="section-title">Tour de l'IA</div>
<div class="status" id="ai-status">En attente de votre tour…</div>
<div id="ai-turn" class="hidden" style="margin-top:10px">
<div class="row" style="justify-content:space-between">
<div>
<div class="hint">Proposition de l'IA</div>
<div id="ai-guess" class="pill" style="font-size:20px; font-weight:800">—</div>
</div>
<div>
<div class="hint">Feedback de l'humain</div>
<div class="row">
<div class="pill">Bien placé(s): <span id="fb-bulls">0</span></div>
<div class="pill">Mal placé(s): <span id="fb-cows">0</span></div>
</div>
</div>
</div>


<div class="row" style="margin-top:8px">
<!-- Contrôles pour choisir le feedback -->
<div class="row">
<button data-fb="bulls--" aria-label="Moins bien placé">−</button>
<button data-fb="bulls++" aria-label="Plus bien placé">+</button>
</div>
<div class="row">
<button data-fb="cows--" aria-label="Moins mal placé">−</button>
<button data-fb="cows++" aria-label="Plus mal placé">+</button>
</div>
<button id="btn-submit-feedback" class="secondary">Valider le feedback</button>
</div>
<p class="hint">Rappel : valeurs entre 0 et 3, et (bien placé + mal placé) ≤ 3.</p>
</div>


<div class="section-title" style="margin-top:10px">Historique — Propositions de l'IA</div>
<div id="ai-history" class="history" aria-live="polite"></div>
</div>
</div>
</section>


<!-- MODALE VICTOIRE -->
<div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
<div class="modal-card">
<div style="font-size:48px">🏆</div>
<h2 id="modal-title"></h2>
<p id="modal-sub"></p>
<div class="row" style="justify-content:center; margin-top:12px;">
<button id="btn-restart">Rejouer</button>
<button id="btn-close" class="ghost">Fermer</button>
</div>
</div>
</div>
</div>


<script src="script.js"></script>
</body>
</html>